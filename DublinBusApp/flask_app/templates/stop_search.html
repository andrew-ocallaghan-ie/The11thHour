{% extends "base.html" %}


{% block content %}

<script>
    // This function adds all of the routes to the routes textbox so we can autocomplete them
    // Currently takes the route from a CSV which can probably be done in a cleaner way
     function dataList() {
        var stopInfo;

        $.getJSON($SCRIPT_ROOT+'/api/stops/', function(data) {
            $(data.stops).each(function() {
                stopInfo = "<option value=" + this.id + ">" + this.name + "</option>";
                $('#stops').append(stopInfo);
            });
        });
    }
</script>

  <div id="map"></div>

        <div class="container">
            <div class="row" id="inputs">

                <div class="col-sm-6">
                    <form method="post">
                        <input type="text" class="form-control" id="user_stop" name="user_stop" list="stops" placeholder="Stop Name">
                          <datalist id="stops"></datalist>
                          <!--This calls the script to add all of the routes to the textbox for autocomplete-->
                          <script>window.onload=dataList();</script>

                      <button type="submit" class="btn btn-default btn-circle">GO!</button>
                  </form>
                </div>
            </div>
        </div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAkUZsgbKCDZNWjntnPv5mQJplie2G4h64&callback=myMap"></script>

{% endblock %}